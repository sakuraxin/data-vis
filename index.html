<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Life Expectancy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale = 1.0, user-scalable = no">
    <meta name="description" content="">
    <meta name="author" content="Xin Qu">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="stylesheet" href="./css/reveal.css">
    <link rel="stylesheet" href="./css/theme/sky.css">
    <link rel = "stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/bubbles_area.css">
    <link rel="stylesheet" href="./css/bubbles.css">
    <link rel="stylesheet" href="./css/world_le.css">

    <!--Load d3-->
    <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://d3js.org/d3-selection-multi.v1.min.js"></script>
    <!-- Theme used for syntax highlighting of code -->
    <!--
	<link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    -->
    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <style></style>
</head>
<body>
    <!--
    <div id="header">
        <a href="#" class="navigate-left">Life Expectancy</a>
    </div>
    -->
    <div class="reveal">
        <div class="slides">
            <section id="slide_1">
                <!--content of slide 1-->
                <div id="slide1">
                    <h2>Life Expectancy</h2>
                    <p>Final Project for CS 498 Data Visualization</p>
                    <p><small>Data source could be found through the link: <u><strong><a href="http://databank.worldbank.org/data/reports.aspx?source=health-nutrition-and-population-statistics">LIFE EXPECTANCY</a></strong></u> </small></p>
                    <p><small>July 2018</small></p>
                    <p><small>Xin Qu</small></p>
                    <p align="justify"><small><em>Please <strong>MAXIMIZE</strong> the browser to optimize the view of slides, charts and tooltips.Text align may not work with IE explorer. Use Chrome for recommendation.</em></small></p>
                </div>
                <!-- end of content -->
            </section>
            <section id = "slide_2">
                <!--content of slide 2-->
                <h9>About this Visualization</h9>
                <small>
                    <p align = "justify">This visualization uses the Interactive Slideshow to tell the story of 
                        <u><strong><a href="http://databank.worldbank.org/data/reports.aspx?source=health-nutrition-and-population-statistics">LIFE EXPECTANCY</a></strong></u>.
                    Built on scenes following a template of visual consistency, with various annotations, parameters and some triggers (will be explained more in the next two slides). 
        
                    More details of data cleaning information go here:   
                    <em><strong><a href="#slide_4">ABOUT THE DATASET</a></strong></em> (slide 5).
                    
                    </p>
                    <p align = "justify">
                        The four scenes follow the structure as followings: 
                        <li align = "justify" style="font-size:90%">The first scene focuses on the <strong>world</strong> life expectancy from year 1960 to 2016;</li>
                        <li align="justify" style="font-size:90%">The second scene focuses on the average life expectancy during year 2000 and year 2016 of each <strong>area</strong>; </li>
                        <li align="justify" style="font-size:90%">The third scene focuses on the average life expectancy during the same year period of each <strong>country</strong>;</li>
                        <li align="justify" style="font-size:90%">The last scene focuses on the life expectancy during the same year period of two selected countries with 
                            largest and smallest average life expectancy. </li>
                        
                    </p>
                    <p align = "justify">  
                        The four charts/scenes in this visualization:
                        <li align = "justify" style="font-size:90%">Line chart shows world life expectancy from year 1960 to year 2016.</li>
                        <li align = "justify" style="font-size:90%">Two Bubble charts: area bubble chart shows the average life expectancy of each area from year 2000 to year 2016 
                        and country bubble chart shows the average life expectancy of each country during the same time period.</li> 
                        <li align = "justify" style="font-size:90%">Bar chart shows the life expectancy of Japan and Sierra Leone from year 2000 to year 2016.</li>
                    </p>
                </small>
                <!-- end of content -->
            </section>
            <section>
                <!--content of slide 3-->
                <h8>Elements of This Visualization</h8>
                <!--
                <small style = "font-size: 2" align = "justify">Belows are the overview of elements and more details will be explained in the chart slide or in the slide right ahead of the chart slide. </small>
                -->
                <small>
                    <ol>
                        <li class="fragment" data-fragment-index="1"><strong>Scenes</strong></li>
                        <p class="fragment" data-fragment-index="2" align="justify">There are 12 slides, including four scenes in this presentation. 
                            Each slide can be navigated through guiding arrows in the right bottom corner.
                        Press <em><strong>Esc</strong></em> key at any point to get an overview of all slides.
                        </p>
                        <li class="fragment" data-fragment-index="3"><strong>Parameters</strong></li>
                        <p class="fragment" data-fragment-index="4" align="justify">
                            The main parameters of this story are <strong>country & area names</strong>, corresponding value of <strong>life expectancy</strong> and <strong>years</strong>.
                        </p>
                        <li class="fragment" data-fragment-index="5"><strong>Triggers</strong></li>
                        <p class="fragment" data-fragment-index="6" align="justify"><strong>Zoom and Brush</strong> of x-axis (year) in line chart to filter data of world life expectancy, 
                            <strong>buttons</strong> in country bubbles chart to trigger updates of visualization with new parameters of groups.
                        </p>
                    </ol>
                </small>
                    
            </section>
                <!-- end of content -->
            </section>
            <section>
                <!--content of slide 3_2-->
                <h8>Elements of This Visualization (continued)</h8>
                <!--
                <small style = "font-size: 2" align = "justify">Belows are the overview of elements and more details will be explained in the chart slide or in the slide right ahead of the chart slide. </small>
                -->
                <small>
                    <p align="left">4. <strong>Annotations</strong>: including tooltips, legends and labels; follow a template of visual consistency.</p>
                        <!--
                        More details of each scence go here:   
                        <u><em><strong><a href="#slide_4">ABOUT THE DATASET</a></strong></em></u> (slide 4). </li>
                        -->
                    <p align = "justify" style="font-size: 90%"><strong>Tooltips</strong> follow a template for visual consistency (see file "tooltip.js" for details): </br>
                        1. Tooltips in country bubble chart with information of country name and corresponding average life expectancy 
                        show up by moving mouse over a bubble. When a tooltip shows up, the corresponding bubble will be highlighted by 
                        changing the stroke color to black. Tooltip disappears by moving mouse off a certain bubble. </br>
                        2. Tooltips in bar chart shows up by moving mouse over a bar. When a tooltip shows up, the corresponding bar will be highlighted by 
                        changing the filled color and changing stroke color to black. Tooltip disappears by moving mouse off a certain bar. The detailed information of tooltips in 
                        bar chart could be found in <em><strong><a href="#slide_10">Slide 10</a></strong></em>. </br>
                        <strong>Labels</strong>: </br>
                        1. Labels in area bubble chart shown in the center of each bubble with information of area name and corresponding average life expectancy.</br>
                        2. Labels in both line chart and bar chart: y-axis stands for value of  "Life Expectancy" and x-axis stands for "Year". </br>
                        <strong>Legends</strong>: </br>
                        1. Legends in country bubble chart: assign colors of blue, red, orange and green to group 1, group 2, group 3 and group 4 
                        respectively.</br>
                        2. Legends in bar chart: assign original filled colors of blue and green to country Japan and Sierra Leone respectively. 
                    </p> 
                </small>
                <!-- end of content -->
            </section>
            <section id = "slide_4">
                <!--content of slide 4-->
                <h4>About the dataset</h4>
                <small align = "justify" style = "text-indent: 50px">The dataset could be found through <u><strong><a href="http://databank.worldbank.org/data/reports.aspx?source=health-nutrition-and-population-statistics">LIFE EXPECTANCY</a></strong></u>, 
                named "life expectancy at birth, total.csv" which contains all the data of each country, area and world from year 1960 to 2016 (exclude 2017 since data of 2017 are not available). 
                This visualization mainly talks about world life expectancy from 1960 to 2016, average life expectancy of each country and area from year 2000 to 2016.</small>
                <small align = "justify" style = "text-indent: 50px">Why chose <em><strong>Japan</strong></em> and <em><strong>Sierra Leone</strong></em>?
                From the analysis of average life expectancy of each country from year 2000 to year 2016, <em><strong>Japan</strong></em> has the largest average life expectany and <em><strong>Sierra Leone</strong></em> has the 
                smallest average life expectancy. The last scene with bar chart shows the life expectancy, sum and the difference of life expectany of <em><strong>Japan & Sierra Leone</strong></em> from year 2000 to year 2016 (exclude 2017 since data of 2017 are not available).
                I used python to generate useful data file and filter data.
                </small>
                <!-- end of content -->
            </section>
            <section>
                <section>
                    <!--content of vertical slide 1-->
                    <small>Life Expectancy at birth of world from year 1960 to year 2016</small>
                    <div id='world_le'></div> 
                    <em><font size = "4">Use mouse to select year range to zoom and brush.</font></em>
                    <!-- end of content -->
                </section>
                <section>
                    <!--content of vertical slide 2-->
                    <small>Average Life Expectancy of each Area from year 2000 to year 2016</small>
                    <small style="font-size: 40%" align = "justify">
                        <em>Each bubble with different colors stands for each area, the number presents the value of average life expectancy during year 2000 and year 2016. The diameters of bubbles are proportional to the values of average
                        life expectancy. Colors depend on the order of "d3.schemeCategory20" with decreasing value of average life expectancy of each area. 
                        </em>
                    </small>
                    <div id='bubbles_area', style="max-height: 80%"></div>
                    <!-- end of content -->
                </section>
                <section>
                    <!--content of vertical slide 3-->
                    <small align = "justify" style = "text-indent: 50px">Then the next slide presents the average life expectancy of each country from year 2000 to 2016.
                        Based on the data analysis, the average life expectancy of world from year 2000 to 2016 is around 71.
                        All the countries will be assigned to 4 different groups by the corresponding average life expectancy ordered randomly by country names.
                        <li><strong >Group 1</strong> (color of blue with the largest circles) is the countries with average life expectancy in range [75, 85].</li>
                        <li><strong>Group 2</strong> (color of red with the second largest circles) is the countries with average life expectancy in range [71, 75].</li>
                        <li><strong>Group 3</strong> (color of orange with the third largest circles) is the countries with average life expectancy in range [51, 71].</li>
                        <li><strong>Group 4</strong> (color of green with the smallest circles) is the countries with average life expectancy in range [45, 51]. </li>
                    </small>
                    <small align = "justify" style = "text-indent: 50px">
                        The diameter of each circle is proportional to the value of average life expectancy. Tooltip of each circle shows up when moving mouse over a circle and disappears by moving
                        mouse off a circle. <u><em><strong>All countries</strong></em></u> button is set up by default. 
                        Click <u><em><strong>By groups</strong></em></u> button to view average life expectancy from 2000 to 2016 of all countries by groups. 
                        Clicking <u><em><strong>All countries</strong></em></u> button after clicking <u><em><strong>By groups</strong></em></u> button will show
                        all the bubbles ordered by group levels (from left to right are group 1, group 2, group 3, group 4). Please <strong>refresh</strong> the 
                        page to view "All countries" by default orders (ordered randomly by country names). 
                    </small>
                    <!-- end of content -->
                </section>
                <section>
                    <!--content of vertical slide 4-->
                    <small>Average Life Expectancy of each Country from year 2000 to 2016</small> </br>
                    <small align = "justify" style="font-size: 35%">
                        <em>Move mouse over a circle to highlight the bubble and show tooltip. The tooltip disappears
                        when moving mouse off a circle. Click "By groups" buttons to visualize bubbles differently. Clicking "All groups" after viewing
                        bubbles by groups will show the bubbles grouped by colors (order from left to right is blue bubbles, red bubbles, orange bubbles and green bubbles). 
                        Please <strong>refresh</strong> the page to view All countries by default orders. 
                        </em>
                    </small>
                    
                    <div class="container">

                        <div style="margin-left:60px;" id="toolbar">
                            <button id="all" class="button active">All countries</button>
                            <button id="year" class="button">By groups</button>
                    </div>
                    <div id="categoryLegend">
                        <div class="categoryLegend"> <p class="category-name"><span class="key-dot Avg85"></span>&ensp;75 < Avg. Life Expectancy < 85&ensp;
                        </p> </div>
                        <div class="categoryLegend"> <p class="category-name"><span class="key-dot Avg75"></span>&ensp;71 < Avg. Life Expectancy < 75&ensp;
                        </p> </div>
                        <div class="categoryLegend"> <p class="category-name"><span class="key-dot Avg71"></span>&ensp;51< Avg. Life Expectancy < 71&ensp;
                        </p> </div>
                        <div class="categoryLegend"> <p class="category-name"><span class="key-dot Avg51"></span>&ensp;45 < Avg. Life Expectancy < 51&ensp;
                        </p> </div>
                    </div>
                    <div id='bubbles'></div>
                    <!-- end of content -->
                </section>
                <section id="slide_10">
                    <!--content of vertical slide 5-->
                    <small align = "justify" style = "text-indent: 50px">From the previous slides and data analysis, Japan and Sierra Leone are
                        two countries with largest average life expectancy and smallest average life expectancy from year 2000 to year 2016. The bar chart shows 
                        the life expectancy, sum and difference of life expectancy of Japan and Sierra Leone from year 2000 to year 2016.
                        <li align = "justify" style="font-size:90%">The bottom green bars stand for life expectancy of <strong>Sierra Leone</strong>, the upper blue bars stand for <strong>Japan</strong>.</li>
                        <li align = "justify" style="font-size:90%">Tooltips of blue bars (life expectancy of Japan)
                        show the sum of the two countries of a certain year, the country name of Japan, the life expectancy in the same year, the difference of life expectancy between two 
                        countries and year.</li>
                        <li align = "justify" style="font-size:90%">Tooltips of green bars show the country name of Sierra Leone, the life expectancy in the same year, the difference of life expectancy between two 
                        countries (the same absolute number of the difference shows in tooltip of Japan, but with opposite sign) and year.</li>
                    </small>
                    <small align = "justify" style = "text-indent: 50px">Tooltip of each bar shows up, the filled color and the stroke color of the bar change
                    by moving mouse over a bar. Tooltip disappears, the filled color changes back to original filled color by moving mouse off a bar.
                    </small>
                    <!-- end of content -->
                </section>
                <section>
                    <!--content of vertical slide 6-->
                    <small>Life Expectancy of Japan and Sierra Leone from 2000 to 2016</small>
                    <div id='stackedbar'></div>
                    <small class="fragment" data-fragment-index="1" align="justify" style="font-size :40%"> From the difference values of life expectancy of Japan 
                        and Sierra Leone from year 2000 to year 2016, the difference trends to decrease. 
                    </small>
                    <small style="font-size: 35%" align = "justify">
                        <em>Move mouse over a bar to show the different highlighted colors and the tooltips. Move mouse off a bar to clear the tooltip. More details in previous slide.
                        </em>
                                
                    </small>
                    
                    <div id="categoryLegend">
                            <div class="categoryLegend"> <p class="category-name"><span class="key-dot Japan"></span>&ensp;Life Expectancy of Japan&ensp;
                            </p> </div>
                            <div class="categoryLegend"> <p class="category-name"><span class="key-dot Sierra_Leone"></span>&ensp;Life Expectancy of Sierra Leone&ensp;
                            </p> </div>
                    </div>
                    
                    <!-- end of content -->
                </section>
                
            </section>
           
        </section>
            <section>
                <!--content of vertical slide 4-->
                <h3>The end</h3>
                <small align = "left">
                    Thanks to 
                    <li align = "justify" style="font-size:90%">Hakimel for reveal.js <a href="https://revealjs.com/#/"></a></li>
                    <li align = "justify" style="font-size:90%">Data Bank for data source</li>
                </small>
            </section>
        </div>
    </div>
    <script src="./js/reveal.js"></script>
    <script>Reveal.initialize();</script>
    <script src="./js/tooltip.js"></script>


    <script src = "./js/bar_test.js"></script>
    <script src="./js/bubbles_area.js"></script>
    <script src="./js/world_le.js"></script>
   
    <script src="./js/bubbles.js"></script>
    
    
    
    <!--
    <script src="./js/japan.js"></script>
    -->
    
</body>
</html>